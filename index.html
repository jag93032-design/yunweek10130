<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œ (5ì„¸íŠ¸)</title>

<style>
:root{
  --bg:#f3f4f6;
  --bg-grad-1:#e0e7ff;
  --bg-grad-2:#fdf2f8;

  --card: rgba(255,255,255,0.85);
  --border: rgba(0,0,0,0.08);

  --text:#111827;
  --muted:#6b7280;

  --btn-main-a:#6366f1;
  --btn-main-b:#22d3ee;

  --btn-copy-a:#f97316;
  --btn-copy-b:#fde047;

  --ball-text:#111827;
}

[data-theme="dark"]{
  --bg:#0f172a;
  --bg-grad-1:#1e1b4b;
  --bg-grad-2:#020617;

  --card: rgba(255,255,255,0.08);
  --border: rgba(255,255,255,0.16);

  --text:rgba(255,255,255,0.92);
  --muted:rgba(255,255,255,0.65);

  --btn-main-a:#7c3aed;
  --btn-main-b:#06b6d4;

  --btn-copy-a:#f97316;
  --btn-copy-b:#facc15;

  --ball-text:#111827;
}

*{ box-sizing:border-box; transition: background-color .25s, color .25s, border-color .25s; }

body{
  margin:0;
  min-height:100vh;
  font-family: system-ui, -apple-system, "Noto Sans KR", sans-serif;
  background:
    radial-gradient(800px 400px at 20% 10%, var(--bg-grad-1), transparent 60%),
    radial-gradient(800px 400px at 80% 20%, var(--bg-grad-2), transparent 60%),
    var(--bg);
  color:var(--text);
}

.wrap{
  max-width:900px;
  margin:auto;
  padding:40px 16px 60px;
}

.header{
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  gap:16px;
  margin-bottom:18px;
}

h1{ margin:0; font-size:26px; }
.subtitle{ margin:6px 0 0; color:var(--muted); font-size:14px; }

.theme-toggle{
  border:none;
  cursor:pointer;
  font-size:20px;
  padding:10px 14px;
  border-radius:999px;
  background:var(--card);
  border:1px solid var(--border);
}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:20px;
  padding:22px;
  box-shadow:0 18px 40px rgba(0,0,0,0.15);
  backdrop-filter: blur(10px);
}

.controls{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  margin-bottom:18px;
}

.btn{
  border:none;
  cursor:pointer;
  padding:12px 18px;
  border-radius:14px;
  font-weight:800;
  color:#fff;
}

.btn-main{ background:linear-gradient(135deg,var(--btn-main-a),var(--btn-main-b)); }
.btn-copy{
  background:linear-gradient(135deg,var(--btn-copy-a),var(--btn-copy-b));
  color:#111;
}

.btn:active{ transform:scale(0.97); }

.grid{ display:grid; gap:14px; }
@media(min-width:720px){ .grid{ grid-template-columns:1fr 1fr; } }

.set{
  padding:14px;
  border-radius:16px;
  background:rgba(255,255,255,0.05);
  border:1px solid var(--border);
}

.setHead{
  display:flex;
  justify-content:space-between;
  font-weight:800;
  margin-bottom:8px;
}
.setText{ font-size:12px; color:var(--muted); }

.balls{ display:flex; gap:10px; flex-wrap:wrap; }

.ball{
  width:44px;
  height:44px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:900;
  color:var(--ball-text);
  box-shadow:0 6px 14px rgba(0,0,0,0.25);
}

.c1{ background:linear-gradient(135deg,#60a5fa,#a78bfa); }
.c2{ background:linear-gradient(135deg,#34d399,#a3e635); }
.c3{ background:linear-gradient(135deg,#fbbf24,#fb7185); }
.c4{ background:linear-gradient(135deg,#f97316,#ef4444); }
.c5{ background:linear-gradient(135deg,#e5e7eb,#93c5fd); }

.note{ margin-top:14px; font-size:13px; color:var(--muted); }
</style>
</head>

<body>
<div class="wrap">
  <div class="header">
    <div>
      <h1>ğŸ² ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œê¸°</h1>
      <p class="subtitle">í•œ ë²ˆì— 5ì„¸íŠ¸ ìë™ ìƒì„±</p>
    </div>
    <button class="theme-toggle" id="themeBtn" type="button">â˜€ï¸</button>
  </div>

  <div class="card">
    <div class="controls">
      <button class="btn btn-main" id="pickBtn" type="button">5ì„¸íŠ¸ ì¶”ì²œ</button>
      <button class="btn btn-copy" id="copyBtn" type="button">ì „ì²´ ë³µì‚¬</button>
    </div>

    <div class="grid" id="sets"></div>

    <div class="note">â€» ë¬´ì‘ìœ„ ì¶”ì²œì´ë©° ë‹¹ì²¨ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤</div>
  </div>
</div>

<script>
(() => {
  const SET_COUNT = 5;
  let latestSets = [];

  const body = document.body;
  const themeBtn = document.getElementById("themeBtn");
  const pickBtn = document.getElementById("pickBtn");
  const copyBtn = document.getElementById("copyBtn");
  const setsEl = document.getElementById("sets");

  /* ===== LOTTO ===== */
  function pickOne(){
    const arr = Array.from({length:45},(_,i)=>i+1);
    for(let i=arr.length-1;i>0;i--){
      const j=Math.floor(Math.random()*(i+1));
      [arr[i],arr[j]]=[arr[j],arr[i]];
    }
    return arr.slice(0,6).sort((a,b)=>a-b);
  }
  function pickAll(){
    return Array.from({length:SET_COUNT},()=>pickOne());
  }
  function colorClass(n){
    if(n<=10) return "c1";
    if(n<=20) return "c2";
    if(n<=30) return "c3";
    if(n<=40) return "c4";
    return "c5";
  }
  function render(){
    setsEl.innerHTML = "";
    latestSets.forEach((set,i)=>{
      const el=document.createElement("div");
      el.className="set";
      el.innerHTML = `
        <div class="setHead">
          <div>Set ${i+1}</div>
          <div class="setText">${set.join(", ")}</div>
        </div>
        <div class="balls">
          ${set.map(n=>`<div class="ball ${colorClass(n)}">${n}</div>`).join("")}
        </div>
      `;
      setsEl.appendChild(el);
    });
  }

  /* âœ… ì—¬ê¸° ì¤‘ìš”: ë²„íŠ¼ í´ë¦­ ì‹œ "ìƒˆë¡œ ë½‘ê³ " "ë Œë”" */
  function refreshNumbers(){
    latestSets = pickAll();
    render();
  }

  /* ===== COPY ===== */
  async function copyText(text){
    try{
      await navigator.clipboard.writeText(text);
      return true;
    }catch(e){
      const ta=document.createElement("textarea");
      ta.value=text;
      document.body.appendChild(ta);
      ta.select();
      const ok=document.execCommand("copy");
      document.body.removeChild(ta);
      return ok;
    }
  }

  /* ===== THEME ===== */
  function setTheme(t){
    body.setAttribute("data-theme", t);
    themeBtn.textContent = (t === "dark") ? "â˜€ï¸" : "ğŸŒ™";
    localStorage.setItem("theme", t);
  }

  const savedTheme = localStorage.getItem("theme") || "dark";
  setTheme(savedTheme);

  themeBtn.addEventListener("click", () => {
    const cur = body.getAttribute("data-theme") || "dark";
    setTheme(cur === "dark" ? "light" : "dark");
  });

  /* âœ… ì´ë²¤íŠ¸ ì¶©ëŒ ë°©ì§€: addEventListenerë¡œ ì—°ê²° */
  pickBtn.addEventListener("click", refreshNumbers);

  copyBtn.addEventListener("click", async () => {
    if(!latestSets.length) return;
    const text = latestSets.map((s,i)=>`Set ${i+1}: ${s.join(", ")}`).join("\n");
    await copyText(text);
  });

  /* INIT */
  refreshNumbers();
})();
</script>
</body>
</html>
